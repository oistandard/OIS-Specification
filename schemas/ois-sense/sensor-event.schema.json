{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://ois.foundation/schemas/ois-sense/sensor-event.schema.json",
  "title": "OIS Sense Sensor Event",
  "type": "array",
  "items": {
    "type": "object",
    "additionalProperties": false,
    "required": [
      "sensorId",
      "type",
      "screenId",
      "timestamp",
      "metrics",
      "confidence",
      "privacy"
    ],
    "properties": {
      "sensorId": { "type": "string" },
      "type": {
        "type": "string",
        "enum": ["proximity-dwell", "motion", "engagement"]
      },
      "screenId": { "type": "string" },
      "timestamp": { "type": "string", "format": "date-time" },
      "metrics": {
        "type": "object",
        "additionalProperties": false,
        "required": ["presence", "dwellSeconds", "motionDetected"],
        "properties": {
          "presence": { "type": "boolean" },
          "dwellSeconds": { "type": "number", "minimum": 0 },
          "motionDetected": { "type": "boolean" }
        }
      },
      "confidence": { "type": "number", "minimum": 0, "maximum": 1 },
      "privacy": {
        "type": "object",
        "additionalProperties": false,
        "required": ["containsPII", "anonymized"],
        "properties": {
          "containsPII": { "type": "boolean" },
          "anonymized": { "type": "boolean" }
        }
      }
    }
  }
}
